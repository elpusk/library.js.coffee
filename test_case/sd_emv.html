<!--
/**
 * @license MIT
 * Copyright (c) 2021 Elpusk.Co.,Ltd.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */
-->
<!DOCTYPE html>


<HTML>

<HEAD>
    <meta charset="utf-8" />

    <TITLE>EMV service dll tester</TITLE>
    <script src="./include_emv.js"></script> <!-- TODO:다른 js 파일 include 하는 js 파일 -->
    <script src="./sd_emv_ctl.js"></script>

    <script type="text/javascript">

    </script>
</HEAD>

<BODY>
    <!-- fixed message area -->
    sd_emv.js 라이브러리를 검사.
    <br />

    <!-- 메시지 표시를 위한 paragraph 를 여기에 정의 하시요.-->

    <!------------------------------------------->
    <!-- top paragraph -->
    <p id="id_p_top_ctl0"></p><!-- the top of paragraph control here -->
    <p id="id_p_top">
        <!-- top text print area -->
        this is top paragraph.
    </p>
    <p id="id_p_top_ctl1"></p><!-- the bottom of paragraph control here -->
    <script type="text/javascript">
        //여기서 컨트롤을 추가한다.
        //컨트롤 이름은 ID 에서 "id_"를 제외한 문자열이다.
        var s_parent_name = "", s_ctl_name = "", s_event_handler = "", s_message = "";
        var b_break = false;

        //////////////////////////
        //top button
        s_parent_name = "p_top_ctl0";
        s_ctl_name = "bt_top_clear";
        s_event_handler = `etc_tools_clear_paragraph("p_top","12px")`;
        s_message = "clear top";
        b_break = false;
        etc_tools_add_button(s_parent_name, s_ctl_name, s_event_handler, s_message,b_break);

        s_ctl_name = "bt_emv_get_status";
        s_event_handler = `sd_emv_run_fun("get_status")`;
        s_message = "get_status";
        b_break = true;
        etc_tools_add_button(s_parent_name, s_ctl_name, s_event_handler, s_message,b_break);

        s_ctl_name = "bt_emv_power_on";
        s_event_handler = `sd_emv_run_fun("power_on")`;
        s_message = "power_on";
        b_break = false;
        etc_tools_add_button(s_parent_name, s_ctl_name, s_event_handler, s_message,b_break);

        s_ctl_name = "bt_emv_power_off";
        s_event_handler = `sd_emv_run_fun("power_off")`;
        s_message = "power_off";
        b_break = false;
        etc_tools_add_button(s_parent_name, s_ctl_name, s_event_handler, s_message,b_break);
        //
        s_ctl_name = "bt_emv_initialize_transaction";
        s_event_handler = `sd_emv_run_fun("initialize_transaction")`;
        s_message = "initialize_transaction";
        b_break = true;
        etc_tools_add_button(s_parent_name, s_ctl_name, s_event_handler, s_message,b_break);

        s_ctl_name = "bt_emv_build_candidate_list";
        s_event_handler = `sd_emv_run_fun("build_candidate_list")`;
        s_message = "build_candidate_list";
        b_break = false;
        etc_tools_add_button(s_parent_name, s_ctl_name, s_event_handler, s_message,b_break);

        s_ctl_name = "bt_emv_select_application";
        s_event_handler = `sd_emv_run_fun("select_application")`;
        s_message = "select_application";
        b_break = false;
        etc_tools_add_button(s_parent_name, s_ctl_name, s_event_handler, s_message,b_break);

        s_ctl_name = "bt_emv_read_data";
        s_event_handler = `sd_emv_run_fun("read_data")`;
        s_message = "read_data";
        b_break = false;
        etc_tools_add_button(s_parent_name, s_ctl_name, s_event_handler, s_message,b_break);

        s_ctl_name = "bt_emv_offline_data_authentication";
        s_event_handler = `sd_emv_run_fun("offline_data_authentication")`;
        s_message = "offline_data_authentication";
        b_break = false;
        etc_tools_add_button(s_parent_name, s_ctl_name, s_event_handler, s_message,b_break);

        s_ctl_name = "bt_emv_processing_restrictions";
        s_event_handler = `sd_emv_run_fun("processing_restrictions")`;
        s_message = "processing_restrictions";
        b_break = false;
        etc_tools_add_button(s_parent_name, s_ctl_name, s_event_handler, s_message,b_break);

        s_ctl_name = "bt_emv_cardholder_verification";
        s_event_handler = `sd_emv_run_fun("cardholder_verification")`;
        s_message = "cardholder_verification";
        b_break = false;
        etc_tools_add_button(s_parent_name, s_ctl_name, s_event_handler, s_message,b_break);

        s_ctl_name = "bt_emv_terminal_risk_managment";
        s_event_handler = `sd_emv_run_fun("terminal_risk_managment")`;
        s_message = "terminal_risk_managment";
        b_break = false;
        etc_tools_add_button(s_parent_name, s_ctl_name, s_event_handler, s_message,b_break);

        s_ctl_name = "bt_emv_terminal_action_analysis";
        s_event_handler = `sd_emv_run_fun("terminal_action_analysis")`;
        s_message = "terminal_action_analysis";
        b_break = false;
        etc_tools_add_button(s_parent_name, s_ctl_name, s_event_handler, s_message,b_break);

        s_ctl_name = "bt_emv_card_action_analysis";
        s_event_handler = `sd_emv_run_fun("card_action_analysis")`;
        s_message = "card_action_analysis";
        b_break = false;
        etc_tools_add_button(s_parent_name, s_ctl_name, s_event_handler, s_message,b_break);

        s_ctl_name = "bt_emv_go_online";
        s_event_handler = `sd_emv_run_fun("go_online")`;
        s_message = "go_online";
        b_break = false;
        etc_tools_add_button(s_parent_name, s_ctl_name, s_event_handler, s_message,b_break);

        s_ctl_name = "bt_emv_complete_transaction";
        s_event_handler = `sd_emv_run_fun("complete_transaction")`;
        s_message = "complete_transaction";
        b_break = false;
        etc_tools_add_button(s_parent_name, s_ctl_name, s_event_handler, s_message,b_break);

        s_ctl_name = "bt_emv_end_transaction";
        s_event_handler = `sd_emv_run_fun("end_transaction")`;
        s_message = "end_transaction";
        b_break = false;
        etc_tools_add_button(s_parent_name, s_ctl_name, s_event_handler, s_message,b_break);

        //
        s_ctl_name = "bt_emv_etc_gets";
        s_event_handler = `sd_emv_run_fun("etc_gets")`;
        s_message = "etc_gets";
        b_break = true;
        etc_tools_add_button(s_parent_name, s_ctl_name, s_event_handler, s_message,b_break);

        //////////////////////////
        //bottom button
        s_parent_name = "p_top_ctl1";
        s_ctl_name = "bt_top_add_msg";
        s_event_handler = `etc_tools_add_msg_to_paragraph("p_top","12px","good job<br />")`;
        s_message = "add msg to top";
        b_break = false;
        etc_tools_add_button(s_parent_name, s_ctl_name, s_event_handler, s_message,b_break);
    </script>
    <br />

    <!------------------------------------------->
    <!-- middle paragraph -->
    <p id="id_p_middle_ctl0"></p><!-- the top of paragraph control here -->
    <p id="id_p_middle">
        <!-- middle text print area -->
        this is middle paragraph.
    </p>
    <p id="id_p_middle_ctl1"></p><!-- the bottom of paragraph control here -->
    <script type="text/javascript">
        //여기서 컨트롤을 추가한다.
        //컨트롤 이름은 ID 에서 "id_"를 제외한 문자열이다.
        var s_parent_name = "", s_ctl_name = "", s_event_handler = "", s_message = "";

        s_parent_name = "p_middle_ctl0";
        s_ctl_name = "bt_middle_clear";
        s_event_handler = `etc_tools_clear_paragraph("p_middle","12px")`;
        s_message = "clear middle";
        etc_tools_add_button(s_parent_name, s_ctl_name, s_event_handler, s_message);
    </script>
    <br />

    <!------------------------------------------->
    <!-- bottom paragraph -->
    <p id="id_p_bottom_ctl0"></p><!-- the top of paragraph control here -->
    <p id="id_p_bottom">
        <!-- bottom text print area -->
        this is bottom paragraph.
    </p>
    <p id="id_p_bottom_ctl1"></p><!-- the bottom of paragraph control here -->
    <script type="text/javascript">
        //여기서 컨트롤을 추가한다.
        //컨트롤 이름은 ID 에서 "id_"를 제외한 문자열이다.
        var s_parent_name = "", s_ctl_name = "", s_event_handler = "", s_message = "";

        s_parent_name = "p_bottom_ctl0";
        s_ctl_name = "bt_bottom_clear";
        s_event_handler = `etc_tools_clear_paragraph("p_bottom","12px")`;
        s_message = "clear bottom";
        etc_tools_add_button(s_parent_name, s_ctl_name, s_event_handler, s_message);
    </script>

    <script type="text/javascript">
        window.addEventListener("load", sd_emv_ini_server, false);
    </script>
</BODY>

</HTML>